<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><title>LLM初探 | Nighttellの小世界</title><meta name="author" content="Nighttell"><meta name="description" content="一个小菜鸡的博客"><meta name="keywords" content=""><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="icon" href="https://nighttellpic.netlify.app/head.jpg"><script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css"><link rel="stylesheet" href="/css/fonts.min.css"><script>const mixins={}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script><script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script><script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"><script src="/js/lib/highlight.js"></script><script src="/js/lib/preview.js"></script><link rel="stylesheet" href="/css/main.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="layout"><transition name="fade"><div id="loading" v-show="loading"><div id="loading-circle"><h2>LOADING</h2><p>加载过慢请开启缓存 浏览器默认开启</p><img src="/images/loading.gif"></div></div></transition><div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}"><nav id="desktop-menu"><a class="title" href="/"><span>NIGHTTELLの小世界</span> </a><a href="/"><i class="fa-solid fa-house fa-fw"></i> <span>&ensp;Home</span> </a><a href="/about"><i class="fa-solid fa-id-card fa-fw"></i> <span>&ensp;About</span> </a><a href="/archives"><i class="fa-solid fa-box-archive fa-fw"></i> <span>&ensp;Archives</span> </a><a href="/categories"><i class="fa-solid fa-bookmark fa-fw"></i> <span>&ensp;Categories</span> </a><a href="/tags"><i class="fa-solid fa-tags fa-fw"></i> <span>&ensp;Tags</span></a></nav><nav id="mobile-menu"><div class="title" @click="showMenuItems = !showMenuItems"><i class="fa-solid fa-bars fa-fw"></i> <span>&emsp;NIGHTTELLの小世界</span></div><transition name="slide"><div class="items" v-show="showMenuItems"><a href="/"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-house fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Home</div></div></a><a href="/about"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-id-card fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">About</div></div></a><a href="/archives"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-box-archive fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Archives</div></div></a><a href="/categories"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-bookmark fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Categories</div></div></a><a href="/tags"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-tags fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Tags</div></div></a></div></transition></nav></div><transition name="fade"><div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div></transition><div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'"><div class="article"><div><h1>LLM初探</h1></div><div class="info"><span class="date"><span class="icon"><i class="fa-solid fa-calendar fa-fw"></i> </span>2023/9/23 </span><span class="category"><a href="/categories/%E7%A7%91%E7%A0%94/"><span class="icon"><i class="fa-solid fa-bookmark fa-fw"></i> </span>科研 </a></span><span class="tags"><span class="icon"><i class="fa-solid fa-tags fa-fw"></i> </span><span class="tag"><a href="/tags/%E6%8A%80%E6%9C%AF/" style="color:#00bcd4">技术</a> </span><span class="tag"><a href="/tags/%E9%97%AE%E9%A2%98/" style="color:#ffa2c4">问题</a> </span><span class="tag"><a href="/tags/%E7%A7%91%E7%A0%94/" style="color:#00a596">科研</a> </span><span class="tag"><a href="/tags/%E5%AD%A6%E4%B9%A0/" style="color:#03a9f4">学习</a> </span><span class="tag"><a href="/tags/LLM/" style="color:#00a596">LLM</a></span></span></div><div class="content" v-pre><h1 id="an-overview-on-language-models-recent-developments-and-outlook">AN OVERVIEW ON LANGUAGE MODELS:RECENT DEVELOPMENTS AND OUTLOOK</h1><h1 id="chengwei-wei1-yun-cheng-wang1-bin-wang2-and-c.-c.-jay-kuo1">Chengwei Wei1, Yun-Cheng Wang1, Bin Wang2, and C.-C. Jay Kuo1</h1><p>1University of Southern California, Los Angeles, California, USA<br>2National University of Singapore, Singapore<br><a href="mailto:chengwei@usc.edu" class="email">chengwei@usc.edu</a></p><p>・"For this next step of my blog let me compare the population of California</p><p>and Alaska"</p><p>・"Ok let's get both of their populations"</p><p>・"I know that I am very likely to not know these facts off the top of my head,</p><p>let me look it up"</p><p>・"[uses Wikipedia] Ok California is 39.2M"</p><p>・"[uses Wikipedia] Ok Alaska is 0.74M"</p><p>・"Now we should divide one by the other. This is a kind of problem I'm not going</p><p>to be able to get from the top of my head. Let me use a calculator"</p><p>・"[uses calculator] 39.2 / 0.74 = 53"</p><p>・"(reflects) Quick sanity check: 53 sounds like a reasonable result, I can continue."</p><p>・"Ok I think I have all I need"</p><p>・"[writes] California has 53X times greater..."</p><p>・"(retry) Uh a bit phrasing, delete, [writes] California's population is 53 times</p><p>that of Alaska."</p><p>・"(reflects) I'm happy with this, next."</p><p>"California's population is 53 times that of Alaska."</p><h1 id="human-text-generation-vs.-llm-text-generation">Human text generation vs. LLM text generation</h1><p><img src="https://nighttellpic.netlify.app/LLM0.png"></p><h1 id="深度学习模型在处理文本数据时需要将文本分解成可理解的单元以便进行各种文本相关的任务模型需要通过这些单元来思考分析和做出决策">深度学习模型在处理文本数据时需要将文本分解成可理解的单元，以便进行各种文本相关的任务。模型需要通过这些单元来思考、分析和做出决策。</h1><h1 id="structural-lm">Structural LM</h1><p><img src="https://nighttellpic.netlify.app/LLM1.png"></p><h1 id="bidirectional-lm">Bidirectional LM</h1><p>它们用来理解句子中的词语之间的关系。有时候，句子中的某个词会被替换成一个特殊的符号 [MASK]，这样句子就不完整了。这种模型的目标是通过大量没有标记的文本来学习语言的含义。</p><p>不同于其他语言模型，这种模型不是用来生成文本，而是作为一种基础模型，可以在后续的任务中进行微调，以帮助我们更好地理解语言和处理各种不同的问题。简单来说，它们帮助我们了解句子中词语之间的关系，并且可以用来做更多的工作</p><p><img src="https://nighttellpic.netlify.app/LLM2.png"></p><h1 id="permutation-lm">Permutation LM</h1><p>有两种不同的语言模型，一种叫做 "masked LM"，另一种叫做 "CLM"。它们各自有好处和不足之处。"masked LM" 需要使用一些特殊标记，比如 [mask]，但这些标记在实际应用中并不会出现。而 "CLM" 只考虑文本的前面部分内容。</p><p>另外还有一种新型模型，叫做 "permutation LM"。它结合了 "CLM" 和 "masked LM" 的优点。这个模型的工作方式是，给定一组词语，它会随机改变词语的顺序，就像把单词的排列方式打乱一样。然后它会根据不同的排列方式来预测下一个词语是什么。</p><h1 id="statistics-based-subword-tokenizers">Statistics-based Subword Tokenizers</h1><p>它们会找出文本中经常出现的一些字母组合，然后用一个新的符号（就像是一个新词）来代替这些字母组合。这个新符号在原来的文本中是不存在的，但它可以帮助我们用更少的字节来表示相同的信息。</p><p>举个例子，假设原来的文本中有很多次出现了 "ing" 这个字母组合，这个工具可以把它替换成一个新的符号，比如说 "$"，这样文本就变得更短了。但是，使用这个新符号仍然可以准确地传达相同的信息。这对于在计算机中存储和传输大量文本信息时非常有用。</p><h1 id="byte-pair-encoding-bpe">Byte Pair Encoding (BPE)</h1><p><img src="https://nighttellpic.netlify.app/LLM3.png"></p><p>P(AB)/P(A)P(B) (rather than the highest frequency P(AB)) at each iterative step. For example, WordPiece merges the pair of “u” and “g” in Fig.3_______________________WordPiece.</p><h1 id="chatgpt训练步骤">CHATGPT训练步骤</h1><p><img src="https://nighttellpic.netlify.app/LLM4.png"></p><hr><p>Self-Organizing Feature Map/Proximal Policy Optimization</p><p><img src="https://nighttellpic.netlify.app/LLM5.png"></p><p><img src="https://nighttellpic.netlify.app/LLM6.png"></p><h1 id="大模型训练关键优化技术总结">大模型训练关键优化技术总结</h1><p>ZeRO1/2/3内存优化策略、重计算、3D并行、序列并行</p><p>高频算子优化:充分利用L1/L2 Cache提升Cube利用率</p><p>融合Kernel &amp; Transformer加速库</p><p>高性能Kernel动态调度和下发</p><p>集合通信优化: SDMA&amp;RDMA通信流水化及带宽复用</p><p>断点续训、按故障影响范围分级恢复，保障业务高可用</p><p><img src="https://nighttellpic.netlify.app/LLM7.png"></p><p><img src="https://nighttellpic.netlify.app/LLM8.png"></p><h1 id="未来工作展望">未来工作展望</h1><p>1.面向在线服务的JCT job completion time) 的调度和batching优化， 缩短服务时延</p><p>2.基于计算图的weight预取与Cache驻留优化，提升访存性能</p><p>3.异腾亲和的FlashAttention2&amp;业界最新融合算子实现， 提升计算性能</p><p>4.支持更丰富的量化计算组合、模型稀疏，降低内存占用</p></div><div id="comment"><div id="giscus-container" class="giscus"></div></div></div><footer id="footer"><div id="footer-wrap"><div>&copy; 2022 - 2025 Nighttellの小世界 <span id="footer-icon"><i class="fa-solid fa-font-awesome fa-fw"></i> </span>&commat;Nighttell</div><div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp; <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a></div></div></footer></div><transition name="fade"><div id="preview" ref="preview" v-show="previewShow"><img id="preview-content" ref="previewContent"></div></transition></div><canvas id="fireworks" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:32767"></canvas><script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script><script src="/js/fireworks.min.js"></script><canvas id="background" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"></canvas><script src="/js/background.min.js"></script><script src="/js/main.js"></script><script src="https://giscus.app/client.js" data-repo="Nighttell/comment" data-repo-id="R_kgDOKS6dPw" data-category="Announcements" data-category-id="DIC_kwDOKS6dP84CZRPV" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin async></script></body></html>